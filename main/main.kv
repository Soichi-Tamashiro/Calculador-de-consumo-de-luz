#:import hex kivy.utils.get_color_from_hex
<MyLabel@Label>:
    text_size : self.size
    valign: 'center'
<MyTextInput@TextInput>:
    text_size: self.height
    halign: 'center'
    padding_y: self.height*.3
    focus: True
    input_filter: 'float'
    write_tab: False
    # on_text_validate:
    multiline:False
<WindowManager>:
    canvas.before:
        Color:
            rgba: hex('#0466C8')
            # rgba: hex('ffca3a')
        Rectangle:
            size: self.size
            pos: self.pos
    MainWindow:
        name: "main"
    SecondWindow:
        name: "second"

<MainWindow>
    cargo_fijo:cargo_fijo
    factor:factor
    GridLayout:
        cols: 1
        orientation: "vertical"
        Label
            color: 0,0,0,1
            size_hint_y:.1
            canvas.before:
                Color:
                    rgba: hex('ffca3a')
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "Cálculo Consumo de Luz"
        GridLayout
            cols:4
            orientation: "horizontal"
            BoxLayout
                size_hint_x: .05
            BoxLayout
                orientation: "vertical"

                MyLabel
                    text: "Descripción"
                MyLabel
                    text: "Cargo Fijo"
                MyLabel
                    text: "Mant. y Reposición de Conexión"
                MyLabel
                    text: "Consumo de Energía ( KWh*Precio Unitario)"
                MyLabel
                    text: "Alumbrado Público"
                MyLabel
                    text: "IGV"
                MyLabel
                    text: "Electrificación rural"
                MyLabel
                    text: "Total"
                MyLabel
                    text: "Reajuste al mes siguiente"
                MyLabel
                    text: "KWh mes actual"
                MyLabel
                    text: "KWh mes anterior"
                MyLabel
                    text: "Consumo KWh"
            BoxLayout
                size_hint_x: .4
                orientation: "vertical"
                Label
                    text: "Precio Unitario"
                Label
                    text: ""
                Label
                    text: ""
                MyTextInput
                    id: factor
                Label
                    text: ""
                Label
                    text: ""
                MyTextInput
                    id: factor_rural
                Label
                    text: ""
                Label
                    text: ""
                Label
                    text: ""
                Label
                    text: ""
                Label
                    text: ""

            BoxLayout
                orientation: "vertical"
                size_hint_x: .3
                Label
                    text: "Importe"

                MyTextInput
                    id: cargo_fijo

                MyTextInput
                    id: mantenimiento

                MyTextInput
                    id: KWh

                MyTextInput
                    id: Alum_Pub

                MyTextInput
                    id: IGV

                MyTextInput
                    id: Elec_Rural

                MyTextInput
                    id: Total

                MyTextInput
                    id: Reajuste

                MyTextInput
                    id: KWh_act

                MyTextInput
                    id: KWh_ant

                MyTextInput
                    id: Consumo_KWh

        Button
            id: botonazo
            size_hint: (.1, None)
            height: (root.height) * 0.05 * 2
            text: "Calcular"
            on_press:
                root.btn(self)
            on_release:
                root.manager.current = 'second'
<SecondWindow>
    cargo_fijo_2:cargo_fijo_2
    GridLayout:
        cols: 1
        BoxLayout
            Label
                text: "Cargo Fijo"
            MyTextInput
                id: cargo_fijo_2
                readonly: True
        Button
            text: "Return"
            on_press:
                # root.btn()
                root.manager.current = 'main'
