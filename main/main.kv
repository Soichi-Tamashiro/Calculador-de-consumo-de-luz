#:import hex kivy.utils.get_color_from_hex
<WindowManager>:
    canvas.before:
        Color:
            rgba: hex('#0466C8')
            # rgba: hex('ffca3a')
        Rectangle:
            size: self.size
            pos: self.pos
    MainWindow:
        name: "main"
    SecondWindow:
        name: "second"

<MainWindow>
    cargo_fijo:cargo_fijo
    factor:factor
    GridLayout:
        cols: 1
        orientation: "vertical"
        Label
            color: 0,0,0,1
            size_hint_y:.1
            canvas.before:
                Color:
                    # rgba: hex('#0466C8')
                    rgba: hex('ffca3a')
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "Cálculo Consumo de Luz"
        GridLayout
            cols:4
            orientation: "horizontal"
            BoxLayout
                size_hint_x: .05
            BoxLayout
                orientation: "vertical"

                Label
                    text_size : self.size
                    text: "Descripción"
                Label
                    text: "Cargo Fijo"
                Label
                    text: "Mant. y Reposición de Conexión"
                Label
                    text: "Consumo de Energía ( KWh*Precio Unitario)"
                Label
                    text: "Alumbrado Público"
                Label
                    text: "IGV"
                Label
                    text: "Electrificación rural"
                Label
                    text: "Total"
                Label
                    text: "Reajuste al mes siguiente"
                Label
                    text: "KWh mes actual"
                Label
                    text: "KWh mes anterior"
                Label
                    text: "Consumo KWh"
            BoxLayout
                size_hint_x: .3
                orientation: "vertical"
                Label
                    text: "Precio Unitario"
                Label
                    text: ""
                Label
                    text: ""
                TextInput
                    id: factor
                Label
                    text: ""
                Label
                    text: ""
                TextInput
                    id: factor_rural
                Label
                    text: ""
                Label
                    text: ""
                Label
                    text: ""
                Label
                    text: ""
                Label
                    text: ""

            BoxLayout
                orientation: "vertical"
                size_hint_x: .3
                Label
                    text: "Importe"
                TextInput
                    id: cargo_fijo
                    multiline:False
                    # readonly: True
                TextInput
                    id: mantenimiento
                    multiline:False
                TextInput
                    id: KWh
                    multiline:False
                TextInput
                    id: Alum_Pub
                    multiline:False
                TextInput
                    id: IGV
                    multiline:False
                TextInput
                    id: Elec_Rural
                    multiline:False
                TextInput
                    id: Total
                    multiline:False
                TextInput
                    id: Reajuste
                    multiline:False
                TextInput
                    id: KWh_act
                    multiline:False
                TextInput
                    id: KWh_ant
                    multiline:False
                TextInput
                    id: Consumo_KWh
                    multiline:False
        Button
            id: botonazo
            size_hint: (.1, None)
            height: (root.height) * 0.05 * 2
            text: "Calcular"
            on_press:
                root.btn(self)
            on_release:
                root.manager.current = 'second'
<SecondWindow>
    cargo_fijo_2:cargo_fijo_2
    GridLayout:
        cols: 1
        BoxLayout
            Label
                text: "Cargo Fijo"
            TextInput
                id: cargo_fijo_2
                multiline:False
                readonly: True
        Button
            text: "Return"
            on_press:
                # root.btn()
                root.manager.current = 'main'
